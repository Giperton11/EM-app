# Effective Mobile โ ะขะตััะพะฒะพะต ะทะฐะดะฐะฝะธะต ๐

ะัะพััะพะต ะฒะตะฑ-ะฟัะธะปะพะถะตะฝะธะต ั backend ะฝะฐ Python ะธ Nginx ะฒ ะบะฐัะตััะฒะต reverse proxy, ะฟะพะปะฝะพัััั ะบะพะฝัะตะนะฝะตัะธะทะธัะพะฒะฐะฝะฝะพะต ั ะฟะพะผะพััั Docker ะธ Docker Compose.
___

## ะััะธัะตะบัััะฐ

```text
[ะะปะธะตะฝั / curl]
โ
โผ   http://localhost
โโโโโโโโโโโโโโโโโโโโโโโ
โ     Nginx           โ  โ ะฟะพัั 80 ะฝะฐ ัะพััะต
โ  reverse proxy      โ
โโโโโโโโโโโโฌโโโโโโโโโโโ
โ proxy_pass http://backend:8080/
โผ
โโโโโโโโโโโโโโโโโโโโโโโ
โ     Backend         โ  โ Python HTTP-ัะตัะฒะตั
โ  (ะฟะพัั 8080)        โ    "Hello from Effective Mobile!"
โโโโโโโโโโโโโโโโโโโโโโโ
(ัะพะปัะบะพ ะฒะฝัััะธ docker-ัะตัะธ app-network)
```
## ะัะฟะพะปัะทัะตะผัะต ัะตัะฝะพะปะพะณะธะธ
```text
- Python 3.12 (alpine)
- http.server (ััะฐะฝะดะฐััะฝะฐั ะฑะธะฑะปะธะพัะตะบะฐ)
- Nginx (stable-alpine)
- Docker + Docker Compose
- ะัะดะตะปัะฝะฐั bridge-ัะตัั
- ะะฐะฟััะบ ะฑะตะท root (ะณะดะต ะฒะพะทะผะพะถะฝะพ)
```

## ะัััััะน ะทะฐะฟััะบ

```bash
# 1. ะะปะพะฝะธัะพะฒะฐัั ัะตะฟะพะทะธัะพัะธะน
git clone https://github.com/giperton11/EM-app.git
cd EM-app
```
```bash
# 2. (ะะฟัะธะพะฝะฐะปัะฝะพ) ะฝะฐัััะพะธัั ะฟะพัั ะฒ .env
cp .env.example .env
```
```bash
# 3. ะะฐะฟัััะธัั ั ัะฑะพัะบะพะน
docker compose up -d --build
```
```bash
# 4. ะัะพะฒะตัะธัั
curl http://localhost
```
## ะะถะธะดะฐะตะผัะน ะพัะฒะตั:

```text
Hello from Effective Mobile!
```
## ะััะฐะฝะพะฒะบะฐ ะฟัะธะปะพะถะตะฝะธั
```bash
docker compose down
```
## ะะปั ะฟะพะปะฝะพะณะพ ัะดะฐะปะตะฝะธั ะพัะธััะบะธ
```bash
docker-compose down -v --rmi all
```
## ะกัััะบัััะฐ ะฟัะพะตะบัะฐ
```text
โโโ backend/
โ   โโโ Dockerfile
โ   โโโ app.py
โโโ nginx/
โ   โโโ Dockerfile
โ   โโโ nginx.conf
โโโ .env.example
โโโ .env                 (ะฒ .gitignore)
โโโ docker-compose.yml
โโโ .gitignore
โโโ README.md
```
## ะะพะปะตะทะฝัะต ะบะพะผะฐะฝะดั ะดะปั ะดะธะฐะณะฝะพััะธะบะธ

```bash
# ะกะพััะพัะฝะธะต ะบะพะฝัะตะนะฝะตัะพะฒ
docker compose ps
```
```bash
# ะะพะณะธ nginx (ะฟะพัะปะตะดะฝะธะต 30 ัััะพะบ)
docker compose logs nginx | tail -n 30
```
```bash
# ะะพะณะธ backend
docker compose logs backend
```
```bash
# ะัะพะฒะตัะบะฐ ัะฒัะทะธ nginx โ backend
docker compose exec nginx curl -v http://backend:8080
```
```bash
# ะะตัะตะทะฐะฟััะบ ั ะฟะพะปะฝะพะน ะฟะตัะตัะฑะพัะบะพะน
docker compose down
docker compose up -d --build --force-recreate
```
## ะะปั ัะตะณะพ ัะฐะนะป .env.example ?!
ะะปั ัะดะพะฑััะฒะฐ ะธ ะณะธะฑะบะพััะธ ะฟัะพะตะบั ะธัะฟะพะปัะทัะตั ัะฐะนะป `.env` ั ะฟะตัะตะผะตะฝะฝัะผะธ ะพะบััะถะตะฝะธั.  
ะญัะพ ะฟะพะทะฒะพะปัะตั ะปะตะณะบะพ ะผะตะฝััั ะฟะพัั nginx, ะฒะตััะธะธ ะพะฑัะฐะทะพะฒ ะธ ะดััะณะธะต ะฟะฐัะฐะผะตััั ะฑะตะท ะฟัะฐะฒะบะธ `docker-compose.yml`.

- **.env.example** โ ะฟัะธะผะตั ัะฐะนะปะฐ, ะบะพัะพััะน **ะบะพะผะผะธัะธััั** ะฒ ัะตะฟะพะทะธัะพัะธะน.  
  ะะฝ ะฟะพะบะฐะทัะฒะฐะตั, ะบะฐะบะธะต ะฟะตัะตะผะตะฝะฝัะต ะผะพะถะฝะพ (ะธ ะฝัะถะฝะพ) ะฝะฐัััะพะธัั.

- **.env** โ ะฒะฐั ะปะพะบะฐะปัะฝัะน ัะฐะนะป ั ัะตะฐะปัะฝัะผะธ ะทะฝะฐัะตะฝะธัะผะธ.  
  ะะฝ **ะฝะธะบะพะณะดะฐ ะฝะต ะบะพะผะผะธัะธััั** ะฒ Git (ะทะฐัะธััะฝ ะฒ `.gitignore`), ััะพะฑั ะฝะต ัะฐัะบััะฒะฐัั ะฝะฐัััะพะนะบะธ (ะฝะฐะฟัะธะผะตั, ะตัะปะธ ะฒ ะฑัะดััะตะผ ะฟะพัะฒัััั ะฟะฐัะพะปะธ ะธะปะธ ะดััะณะธะต ัะตะบัะตัั).

ะัะธะผะตั ัะพะดะตัะถะธะผะพะณะพ `.env.example`:

```bash
# ะะพัั ะฝะฐ ัะพััะต ะดะปั Nginx (ะฟะพ ัะผะพะปัะฐะฝะธั 80)
NGINX_PORT=80

# ะะพัั, ะฝะฐ ะบะพัะพัะพะผ ัะฐะฑะพัะฐะตั backend ะฒะฝัััะธ ะบะพะฝัะตะนะฝะตัะฐ
BACKEND_PORT=8080

# ะขะตะณ ะพะฑัะฐะทะฐ nginx
NGINX_IMAGE_TAG=stable-alpine

# ะขะตะณ ะพะฑัะฐะทะฐ python
PYTHON_IMAGE_TAG=3.12-alpine
```
## ะะฐััะธัะตะฝะธะต ะฟัะพะตะบัะฐ
ะะปั ัะฐััะธัะตะฝะธั ััะฝะบัะธะพะฝะฐะปัะฝะพััะธ:
1. ะะพะฑะฐะฒััะต ะฝะพะฒัะต ัะตัะฒะธัั ะฒ `docker-compose.yml`
2. ะะฐัััะพะนัะต ะผะฐัััััะธะทะฐัะธั ะฒ `nginx.conf`
3. ะะพะฑะฐะฒััะต ะฟะตัะตะผะตะฝะฝัะต ะพะบััะถะตะฝะธั ะฒ `.env`
